# unbreakableID
## Peers looking for trust in the digitalverse 
### prepared by Phillip Roe - Paradigma SpA
## Vision
In the absence of trust . . . opportunities for mutually beneficial cooperation would have to be foregone . . . norms of social behavior, including ethical and moral codes [may be] . . . reactions of society to compensate for market failures. [1] Thus, social preferences such as a concern for the well-being of others and for fair procedures remain essential to sustaining society and enhancing the quality of life. 

In a world increasingly connected not just by trade in goods but also by the exchange of violence, information, viruses, and emissions, the importance of social preferences in underwriting human cooperation, even survival, may now be greater even than it was among that small group of foragers that began the exodus from Africa 55,000 years ago to spread this particular cooperative species to the far corners of the world. [2]

Human beings have become more conscious of a growing interdependence between all parts of the world with the growth of a world economy which followed the Great Transformation, the Services Transformation, the ICT revolution, the adoption of free trade policies, named as the New Globalization by most of the countries of the world.

A beginning to understand, though dimly, that no country is an island unto itself, but as Bahá’u’lláh said: “The earth is but one country, and mankind its citizens.” [3]

Without a strong guiding moral philosophy men struggled on as best they could to respond to the new needs of the world.  It is accepted that the times called for a more just dignified station for a much wider spectrum of the society.

The world is nowadays dominated by a growing divide, a term that reflects the availability or unavailability of Information Technology and Communications (ICT) resources, analysed in terms of economic accessibility. This is called the digital divide.

Questions arise on how human beings can address this look for trust, worldwide, increasing digital inclusion.

## The problem
The world - is still- dominated by two extreme visions: one that denies the radical changes in patterns of communication that the ICT revolution entails and the other that denies the persistence of an economy based on the physical constraints imposed by location and the material nature of most goods and products.

The problems and opportunities detected are the advent and use of ICT to transform patterns of communication and that businesses are not fully aware on how these technologies should be used to create appropriate communication in order to be more productive. Communication that is acceptable for people both being a customer and a human being.

## Solution
Victor Frankl, facing the purpose of life, is best cured by going outside, extending the self rather than contracting it, in service to others, in upholding a value, in embracing suffering positively rather than negatively. [4]

Such service can be made more effective the more skills a person has.  
Knowledge is as wings to man’s life, and a ladder for his ascent. Its acquisition is incumbent upon everyone.  To encourage education as much as possible in sciences which will increase the capacity for service, as well as moral teachings. [5]

ICT when used properly, can increase productivity, reduce risk, and increase accessibility, specifically when people are faced with distance.

An electronic payment system based on cryptographic proof instead of trust could help when there is distance, allowing any two willing parties to transact directly with each other without the need for a trusted third party. Transactions that are computationally impractical to reverse would protect sellers from fraud, and routine escrow mechanisms could easily be implemented to protect buyers. [6]

Commerce on the Internet has come to rely almost exclusively on financial institutions serving as trusted third parties to process electronic 
payments. While the system works well enough for most transactions, it still suffers from the inherent weaknesses of the trust-based model. With the possibility of reversal, the need for trust spreads. Merchants must be wary of their customers, hassling them for more information than they would otherwise need. A certain percentage of fraud is accepted as unavoidable. These costs and payment uncertainties can be avoided in person by using physical currency, but no mechanism exists to make payments over a communications channel without a trusted party.

Cryptographic proof. Here is the mathematical “magic” of the initial Bitcoin Blockchain: the ability to assess the integrity of records and verify new data, instead of relying on the trust of a bank, the state, the law or the authority of any other institution.

How? Cryptographic hashing is a mathematical phenomenon whereby some data is run through a hashing algorithm, which will then output a string of characters. Only this particular data run through this particular hashing algorithm will produce that specific string of characters. What this means is that if the data is tampered with in any way, this can be proven by running it through the hashing algorithm again and checking if the output is the same.  Here is a cryptographic proof. [7]

Replacing “trust” with cryptographic proof promised to replace the uncertainty of humans and institutions with the certainty of mathematics, and yet cryptographic hashing is itself an area of human endeavour.

Hashing is a discovery of universal principle that all else can be anchored to; for others, it is an area of research and invention, but is also an area of creativity, knowledge sharing and collaboration amongst peers experimenting and working with the phenomena of this curious universe we live in. [6]

The Double spending Problem.  How does a decentralised network reach consensus on which transactions are true? The solution to the double spending problem using peer-to-peer distributed time stamp server to generate computational proof of the chronological order of transactions.   [7]

The blockchain and the internet could be applied to different needs of human beings. The first need is for the individual, agreement between peers, and things.

### 1.	The Experience of Internet as an Identification System
We must assure that the use of digital technology maintains a secure world, peaceful, and without setbacks produced by hackers or identity theft. The evolution of digital identification has been fast progressing from traditional methods to more advanced and secure methods. [8]

### 1.1 Evolution

#### Early Days
Initial Authentication: In the early days of the Internet, identification was primarily based on username and password systems. This method was simple but had significant security vulnerabilities.

#### Advancements in Security
Two-Factor Authentication (2FA): To address security concerns, two-factor authentication emerged, requiring users to provide a second form of verification, such as a code sent to their mobile phone.

Biometric Authentication: The introduction of biometric authentication (e.g., fingerprint, facial recognition) provided a more secure and convenient way to verify identities.

#### Mobile and Digital Identity Platforms
Mobile Authentication: With the rise of smartphones, mobile-based authentication methods became prevalent, allowing users to authenticate themselves using mobile apps and push notifications.

Digital Identity Platforms: These platforms centralized identity verification processes, streamlining identity checks across multiple online services.

#### Decentralized Identity Solutions
Blockchain Technology: Blockchain introduced decentralized identity solutions, giving individuals control over their digital identities and leveraging the distributed nature of blockchain for security.

#### Current Trends
Enhanced Security: Continuous improvements in security measures, including advanced encryption and continuous authentication, are being implemented to protect user identities.

Seamless User Experience: Efforts are ongoing to balance security with a seamless user experience, ensuring that identity verification processes are both secure and user-friendly.

The evolution of digital identification has transformed how individuals prove their identities online, making it more secure, efficient, and convenient.

### 1.2 The Internet Infrastructure Integral to the Management, Security, and Credibility of Digital Identities
The Internet infrastructure is integral to the management, security, and credibility of digital identities.

#### 1.2.1 Domain Ownership
A domain name is a critical part of an organization's digital identity. It serves as the unique address on the internet, much like a business's storefront [9]. Ensuring that the domain is properly registered and managed is essential for maintaining control over the digital identity [9].

#### 1.2.2 Authentication
DNS plays a role in the authentication process. When a user tries to access a website, the DNS system resolves the domain name to an IP address [9]. This step is crucial for verifying that the user is connecting to the correct server, which is part of the broader digital identity verification process.

#### 1.2.3 Security
Protecting the DNS infrastructure is vital for safeguarding digital identities. DNS attacks, such as DNS spoofing or hijacking, can lead to unauthorized access to sensitive information and compromise digital identities1.

#### 1.2.4 Trust and Credibility
A well-maintained DNS infrastructure enhances the trustworthiness and credibility of a digital identity [9]. For example, businesses that use consistent and secure domain names are more likely to be trusted by users and customers [9].

#### 1.2.5 Decentralized Identity Solutions
Some digital identity solutions leverage blockchain technology to create decentralized identities [10]. These solutions often use DNS-like systems to manage and verify digital identities in a secure and transparent manner.

In summary, DNS infrastructure is integral to the management, security, and credibility of digital identities. Properly managing DNS can help ensure that digital identities are protected and trusted by users and organizations alike.

#### 1.3 Domain Name System (DNS)
The Domain Name System (DNS) is a hierarchical and distributed name service that provides a naming system for computers, services, and other resources on the Internet or other Internet Protocol (IP) networks. It associates various information with domain names (identification strings) assigned to each of the associated entities. Most prominently, it translates readily memorized domain names to the numerical IP addresses needed for locating and identifying computer services and devices with the underlying network protocols. [11]

Names are globally unique and human-readable, but not strongly owned. The system operator has the final say as to what each name resolves to. This requires that client must trust the system, including their administrators as the only ones that can make these changes.

#### 1.3.1 Domain Name System Zone File
A Domain Name System (DNS) zone file is a text file that describes a DNS zone. A DNS zone is a subset, often a single domain, of the hierarchical domain name structure of the DNS. The zone file contains mappings between domain names, IP addresses, and other resources, organized in the form of text representations of resource records (RR). [12] 

The zone file has to follow an agreed format [13] 

An example of a zone file for the domain example.com is the following:
```
$ORIGIN example.com.     ; designates the start of this zone file in the namespace
$TTL 3600                ; default expiration time (in seconds) of all RRs without their own TTL value
example.com.  IN  SOA   ns.example.com. username.example.com. ( 2020091025 7200 3600 1209600 3600 )
example.com.  IN  NS    ns                    ; ns.example.com is a nameserver for example.com
example.com.  IN  NS    ns.somewhere.example. ; ns.somewhere.example is a backup nameserver for example.com
example.com.  IN  MX    10 mail.example.com.  ; mail.example.com is the mailserver for example.com
@             IN  MX    20 mail2.example.com. ; equivalent to above line, "@" represents zone origin
@             IN  MX    50 mail3              ; equivalent to above line, but using a relative host name
example.com.  IN  A     192.0.2.1             ; IPv4 address for example.com
              IN  AAAA  2001:db8:10::1        ; IPv6 address for example.com
ns            IN  A     192.0.2.2             ; IPv4 address for ns.example.com
              IN  AAAA  2001:db8:10::2        ; IPv6 address for ns.example.com
www           IN  CNAME example.com.          ; www.example.com is an alias for example.com
wwwtest       IN  CNAME www                   ; wwwtest.example.com is another alias for www.example.com
mail          IN  A     192.0.2.3             ; IPv4 address for mail.example.com
mail2         IN  A     192.0.2.4             ; IPv4 address for mail2.example.com
mail3         IN  A     192.0.2.5             ; IPv4 address for mail3.example.com
```
The Internet Corporation for Assigned Names and Numbers (ICANN) [14] requires the registry operators to provide bulk access to the zone files of the Generic Top Level Domain (gTLD) at least on a daily basis. For gTLDs, a zone file contains information about domain names that are active in that gTLD. In general, Internet users may be able to access and download zone file data at no cost for certain purposes.[15]

#### 1.3.2 Performance Issues Considered in DNS
The response time of a DNS (Domain Name System) query is quite relevant for several reasons:

User Experience: A faster DNS response time means quicker resolution of domain names to IP addresses, leading to faster website loading times. This can significantly enhance user experience, particularly for users on slow connections or accessing content-rich websites.

Website Performance: Websites with faster DNS response times often have better overall performance. Slow DNS queries can lead to delays in loading web pages, affecting user satisfaction and engagement.

SEO Ranking: Search engines like Google consider page load times as one of the factors in their ranking algorithms. Faster DNS resolution can contribute to better page load times and potentially improve a website's SEO ranking.

Network Efficiency: Efficient DNS queries reduce the amount of time and resources required for network communications, making the overall network more efficient.

Reliability: Faster DNS responses can indicate a more reliable DNS infrastructure, reducing the likelihood of timeouts or failures during the domain resolution process.

Security: Faster DNS responses can also help in mitigating certain types of cyber-attacks, such as DNS amplification attacks, by reducing the time an attacker has to exploit DNS queries.

Overall, the response time of a DNS query is an important aspect of web performance, user experience, and network efficiency.

#### 1.3.3 Recommendations and Best Practices to Ensure Effective DNS Routing
There are several recommendations and best practices to ensure effective DNS routing and zone file management:

#### DNS Routing Policies
Weighted Round Robin (WRR): Distribute traffic among multiple servers based on assigned weights.[16]

Geolocation Routing: Direct traffic based on the geographic location of the user.[16]

Failover Routing: Set up backup servers to take over in case the primary server fails.[16]

Health Checks: Regularly monitor the health of your servers and automatically reroute traffic if a server fails.[16]

#### DNS Zone File Management
Regular Updates: Keep DNS records up to date to ensure accurate domain resolution.[17]

Redundancy: Use secondary (slave) DNS zones to provide redundancy and improve reliability.[17]

Security: Secure zone transfers to prevent unauthorized access and implement DNSSEC to protect against DNS spoofing.[17]

Monitoring: Regularly monitor DNS zone health to detect and resolve issues promptly.[17]

TTL Management: Set appropriate Time to Live (TTL) values to control how long DNS records are cached.[18]

Access Control: Limit access to DNS zone management to authorized personnel only.[17]

Backup: Regularly back up DNS zone files and store them securely.[18]

### 2. The Use of Cryptographic Keys to Represent Names
Several attempts to use cryptographic names have been tested, from the keys they reference. These names are difficult for most users to remember since they do not carry semantic information relating to their use in the system.

#### 2.1 Cryptographic Infrastructure on the Internet

Several types of cryptographic infrastructures are operating on the internet.  

##### 2.1.1 Public Key Infrastructure (PKI)
This is a framework used to create, manage, distribute, use, store, and revoke digital certificates and manage public-key encryption. It's widely used for secure electronic communication, such as e-commerce and internet banking. [19]

##### 2.1.2 Blockchain
Technologies like Bitcoin and Ethereum are well-known examples. [7] Blockchain provides a decentralized and secure way to record transactions and manage data. 

##### 2.1.3 Secure Cryptography Infrastructures in the Cloud
Solutions like SECRIN [20] are designed to protect cryptographic keys in virtualized environments, ensuring secure communication and data protection.

##### 2.1.4 Hardware Security Modules (HSMs)
These are physical devices that manage digital keys and provide cryptographic operations. They are often used to meet regulatory requirements and provide high levels of security.[21]

#### 2.2 Experience Implementing a Naming System on the Blockchain

The emergence of Blockchain became the candidate to implement the association between names and cryptographic keys. Blockchains provide a global append-only log that is publicly writeable. Writes to the global log, called transactions, are organized as blocks and each block packages multiple transactions into a single atomic write. Writing to the global log requires a payment in the form of a transaction fee. 

Blockchain is a large deployment of a decentralized PKI service.

Users can register human meaningful names and securely associate data with them, and only the owner of the particular private keys that registered them can write or update the name-value pair. Many decentralized systems have been and can be built using these blockchain networks, such as new, decentralized versions of DNS and PKI.

##### 2.2.1 Bitcoin Name Service (BNS)

The first name registered in a Bitcoin Blockchain transaction was in 2014, called Namecoin service on the Bitcoin Blockchain. [22]  This service evolved as the Bitcoin Name Service (BNS) on the Blockstack Blockchain. Later, Blockstack Blockchain and rebranded as the Stacks Blockchain [23], a Bitcoin L2 Blockchain.
This BNS naming system means that (a) names are human-readable and can be picked by humans, (b) name-value pairs have a strong sense of ownership— that is, they can be owned by cryptographic keypairs, and c) there is no central trusted party or point of failure.

This makes it a powerful tool for building all kinds of network applications. Using the BNS, the following can be achieved:

•	Build domain name services where hostnames cannot be hijacked.

•	Build social media platforms where user names cannot be stolen by phishers.

•	Build version control systems where repository branches do not conflict.

•	Build public-key infrastructure where it is easy for users to discover and remember each other's keys.

Software applications built with the Stacks blockchain (Bitcoin L2) integrated, give users control over their digital identities, assets, and data. Unlike most cloud-based apps, they are "decentralized" since they do not depend on any centralized platform, server, or database to function. Rather, they use the Stacks blockchain to authenticate users and facilitate read and write requests for them without any single point of failure or trust.

The name registry is built with a smart contract that was deployed and runs on the Stacks Blockchain, a Bitcoin L2 Blockchain. The provable smart contract is written in Clarity [24], a safe, decidable language. The contract links the STX address and the name, domain, and namespace according to the rules about fees and expiry.  The BNS contract was deployed at a Stacks Blockchain transaction. [25] 

##### 2.2.2 Decentralized Name or ID
This kind of name can be called Decentralized ID or Decentralized Name.  It uses cryptography, digital wallets, and related technologies to enable multiple entities to produce credentials and empower individuals to manage their data. 

Decentralized ID systems create a trust triangle that links issuers, holders, and verifiers: 
###### Issuers
       are entities that digitally sign attestations and provide them to holders;
###### Holders
       such as individuals, manage their credentials and use them to prove claims about their data;
###### Verifiers
       assess these attestations to determine whether they satisfy requirements. This process is facilitated by a verifiable data registry.

The Stacks blockchain addresses performance problems using a layered approach. The base layer consists of the Stacks blockchain, and the Blockchain Naming System (BNS) [26]. The blockchain governs ownership of identities in the Stacks network. Identities can be names such as namespaces, domain, and subdomain names. These identities can refer to persons, applications, or things.  

Names in BNS have four properties:

•	Names are globally unique. The protocol does not allow name collisions, and all well-behaved nodes resolve a given name to the same state.

•	Names are human-meaningful. Each name is chosen by its creator.

•	Names are strongly owned. Only the name's owner can change the state it resolves to. A name is owned because the owner of its private key can generate valid transactions that update its zone file hash and ownership. The name zone file can only have a valid verification using the owner’s private key.

•	Names using their associated public and private keys can sign transactions. Only the owner of the name and the associated keys can sign in a verifiable way transactions, and the execution of the smart contracts in a decentralized way. This action represents the unique action of a user, that has access to those keys.

##### 2.2.3 Challenges of a Naming System on Blockchain
Building systems with blockchains presents challenges:

• Limits on Data Storage: Individual blockchain records are typically on the order of kilobytes and cannot hold much data. Moreover, the blockchain’s log structure implies that all state changes are recorded in the blockchain. All nodes participating in the network need to maintain a full copy of the blockchain, limiting the total size of blockchains to what current commodity hardware can support. 

• Slow Writes: The transaction processing rate is capped by the blockchain’s write propagation and leader election protocol, and it is pegged to the rate at which new blocks are announced by leader nodes, called miners in many blockchain networks. New transactions can take minutes to a few hours to be accepted.

• Limited Bandwidth: The total number of transactions per block is limited by the block size of blockchains.
To maintain fairness and to give all nodes a chance to become a leader in the next round, all nodes should receive a newly announced block at roughly the same time. Therefore, the block size is typically limited by an average uplink bandwidth of nodes. 

• Endless Ledger: The integrity of blockchains depends on the ability of anyone to audit them back to the first block. As the system makes forward progress and issues new blocks, the cost of an audit grows linearly with time, which makes booting up new nodes progressively more time consuming. This is an endless ledger problem. 

##### 2.2.4 Using the Immutability of the Blockchain to Build a Naming System

Relying on the consensus protocol of the underlying blockchain, there is an opportunity to provide a total ordering for all operations supported by the naming system, like name registrations, updates, and transfers.

This can be done with the separation of the Control and the Data.

Decoupling the security of name registration and name ownership from the availability of data associated with names by separating the control and data planes.
The control plane defines the protocol for registering human-readable names, creating (name, hash) bindings, and creating bindings to owning cryptographic keypairs

##### 2.2.5 Storing Naming Data Associated to the Blockchain

While on-chain storage solutions like IPFS and Arweave are designed for immutable, censorship-resistant permanent storage, they cannot be deemed as providing user control of the data since the user cannot modify or remove the data once it has been deployed. 

Apps built with the Stacks blockchain can store off-chain data using a storage system called Gaia. [27]

Gaia is a unique approach to decentralized storage that focuses primarily on user-ownership of data, rather than immutable on-chain storage. The emphasis here is on user control.

Gaia solves a different problem of allowing users to be in control of where their data is stored while connecting the access of that data to their on-chain Stacks identity.

Whereas public transactional metadata is best stored on the Stacks blockchain, user application data can often be stored more efficiently and privately in Gaia storage.

Storing data off of the blockchain ensures that these applications (decentralized) can provide users with high performance and high availability for data reads and writes without introducing central trust parties.

###### 2.2.5.1 Stacks Architecture is Based on the Identity

The Stacks blockchain addresses performance problems using a layered approach. The base layer consists of the Stacks blockchain and the Blockchain Naming System (BNS). The blockchain governs ownership of identities in the Stacks network. Identities can be names such as domain names, usernames, or application names.  [28]

When an identity is created, its creation is recorded in the Stacks blockchain. Identities make up the primary data stored into the Stacks blockchain. These identities correspond to routing data in the OSI stack [29]. The routing data is stored in the Atlas Peer Network [30], the second layer. Every core node that joins the Stacks Network is able to obtain an entire copy of this routing data. Stacks uses the routing data to associate identities (domain names, user names, and application names) with a particular storage location in the final layer, the Gaia Storage System.

A Gaia Storage System consists of a hub service and storage resource on a cloud software provider. The storage provider can be any commercial provider such as Azure, DigitalOcean, Amazon EC2, and so forth. Typically the compute resource and the storage resource reside same cloud vendor, though this is not a requirement. Gaia currently has driver support for S3, Azure Blob Storage, Google Cloud Platform and local disk, but the driver model allows for other backend support as well.

Gaia stores data as a simple key-value store. When an identity is created, a corresponding data store is associated with that identity on Gaia. When a user logs into a dApp, the authentication process gives the application the URL of a Gaia hub, which then writes to storage on behalf of that user.

The Stacks blockchain stores only identity data. Data created by the actions of an identity is stored in a Gaia Storage System. Each user has profile data. When a user interacts with a decentralized dApp that application stores application data on behalf of the user. Because Gaia stores user and application data off the blockchain, a Stacks DApp is typically more performant than DApps created on other blockchains.

###### 2.2.5.2 Example of a Name Registration in the Stacks Architecture

The domain name phillip.stx was registered in the base layer of the Stacks blockchain and the BNS at the transaction last_txid":"0x102d73f2ce7906649715764a78d9b75dc3f188ff60128f61dc9d713790906f29".  The ownership of the domain name is represented with the "address":"SP17Z5ZD89DVJHDB2SBZAST41PTS3BS50YY3XBVJY", and it was executed using the BNS smartcontract function "name-register" [30]. A hash of the routing information is included in the base layer.

```
{"address":"SP17Z5ZD89DVJHDB2SBZAST41PTS3BS50YY3XBVJY","blockchain":"stacks","last_txid":"0x102d73f2ce7906649715764a78d9b75dc3f188ff60128f61dc9d713790906f29","status":"name-register","zonefile_hash":"c74108af50c099a211e35eb22456812a1a61230e","expire_block":36708}
```
A zone file is used to describe the routing data similarly to a Domain Name System (DNS) zone file. In this example, the zone file text associated to the phillip.stx name is the following:
```
{"zonefile":"$ORIGIN phillip.stx.\n$TTL 3600\n_http._tcp\tIN\tURI\t10\t1\t\"https://gaia.blockstack.org/hub/17tqGoM8xDjLTpy2rFZ1yj9BPmVeC3zjDi/profile.json\"\n\n"}
```

##### 2.2.6 Decentralized Applications (Dapp's)

Decentralized Applications (Dapp’s) also called Web3 Apps or Stacks applications is the New App that integrates these main functions, authentication, transaction signing, and data storage. All users can run their applications under their own private decentralized space. Web3 users own their data as they are the only one has access to and/or shares with other users its own private data through the decentralized application. These domain or subdomain names can also use the decentralized names or decentralized IDs, and they are registered to the public key associated to its private key or address, and the IP address location of the Dapp.

##### 2.2.7 Decentralized Identifiers

The W3C (https://www.w3.org/TR/did-core/) recommends Decentralized identifiers (DIDs), as a new type of identifier that enables verifiable, decentralized digital identity. A DID identifies any subject (e.g., a person, organization, thing, data model, abstract entity, etc.) that the controller of the DID decides to identify. In contrast to typical, federated identifiers, DIDs have been designed so that they may be decoupled from centralized registries, identity providers, and certificate authorities. DIDs are URIs that associate a DID subject with a DID document allowing trustable interactions associated with that subject. Each DID document can express cryptographic material, verification methods, or services, which provide a set of mechanisms enabling a DID controller to prove control of the DID.

The DIDs for a person for example, are expressed through a name and an image, sometimes a description, background image, url, email, password signature, etc. The visual and textual representation of an account, helps users to better recognize their own accounts, from the accounts of other users. Stacks has a long history of Decentralized Identifiers (DIDs) as they introduced human readable names for bitcoin addresses when the project started as “One Name” back in 2014.

The Stacks public DIDs is a profile that is registered with a username on-chain using the BNS (Blockchain Naming System) smart contract. These profiles are defined using the JSON web token, and its contents using the appropriate objects of the Schema standard (https://schema.org), like the person object (https://schema.org/Person).

#### 3.1 BNS and TLDs


#### 4.1 BNS and DID Standards
BNS names can be compliant with the emerging Decentralized Identity Foundation (identity.foundation) protocol specification for decentralized identifiers (DIDs), and the W3C foundation. These initiatives define mechanisms by which an End-User can leverage an open provider to release identity information (such as authentication and claims) to a Relying Party which can act on that information.

Each name in BNS has an associated DID. The DID format for BNS is:
•	did:stack:v2:{address}-{index}
•	did:btc-addr:{address}-{index}

Where:
•	{address} is an on-chain public key hash (for example a Stacks or Bitcoin address).
•	{index} refers to the nth name this address created.

### 3.	Blockchain network interoperability
A user private and public keys are based from the mathematical, and cryptographical algorithm, and they are to base to use it in the Stacks or Bitcoin blockchain.

#### 3.1 Stacks address
From a private key the user can derive a decidable public key in a Stacks address format, and in several Bitcoin addresses format. Actual Stacks 2.1 have methods accepting more BTC address formats (P2PKH, P2SH, P2WPKH, P2WSH, P2TR). A Stacks address starts with a “SP”. 

#### 3.2 Bitcoin address
Initially, the Bitcoin address was based on the legacy address P2PKH starting with a “1”, the actual ones are based on SegWit address P2WPKH starting with a “bc1”, and Taproot address when massively available starting with a “bc1p”. 

#### 3.3 Both Stacks and Bitcoin addresses are linked together
These addresses are mathematically or cryptographically linked together as one or the same, but they are used in the Stacks or Bitcoin blockchain ecosystem respectively.

#### 3.4 Domain and subdomain names can be associated to a Stacks and Bitcoin address
The Stacks blockchain ensures that each node's BNS view is synchronized to all the other nodes in the world, so queries on one node will be the same on other nodes. Stacks blockchain nodes allow a name's owner to bind up to 40Kb of off-chain state to their name, which will be replicated to all other Stacks blockchain nodes via a P2P network.

The biggest consequence for developers is that in BNS, reading name state is fast and cheap but writing name state is slow and expensive. This is because registering and modifying names requires one or more transactions to be sent to the underlying blockchain, and BNS nodes will not process them until they are sufficiently confirmed. Users and developers need to acquire and spend the requisite cryptocurrency (STX) to send BNS transactions. At another level, the different applications could interact among them exchanging information. In order to use these capabilities, a set of standard verifiable digital identities should be used integrated into the web to have a secure and private interaction.

#### 3.5 To commit changes in the Blockchain requires the use of a Stacks Wallet Applications
A request for a transaction or change of state of the Blockchain requires the use of the private key to sign, and funds as gas to materialize the order.  To improve security, and reduce the risk of losing control of the private key of an account, different methods have been developed, trying to avoid entering it directly to the application.

For the use of web applications, it requires the use of a browser wallet software plugin, that has access to the private key directly or using a hardware device.

At present in the Stacks ecosystem, there are two browser wallet software available.  One is the Hiro Wallet (https://wallet.hiro.so/) for desktop PC’s, and Xverse Wallet (https://www.xverse.app/) for mobile devices.

#### 4.2 Using the Internet domain names to verify decentralized domain and subdomain names
To incentivize mass adoption of DIDs, one initial strategy is to link both Internet Domain Names to DIDs, both referring to each other, in the BNS zone file a reference to a web server, and in the Internet domain server referring to the respective DID. Mixing a centralized domain names with the decentralized domain names. For example, the Internet domain name XCK.app refers to the Stacks DID XCK.app, and both are owned by the same controller. In this case, the controller should be the dapp.

This strategy is ratified by a recent proposal in using a new DID method in conjunction with blockchain-based DIDs that allows them to bootstrap trust using a web domain's existing reputation (https://w3c-ccg.github.io/did-method-web).

#### 4.3 Extending the naming characters for the domain and subdomain names
Typically, the domain and subdomain names have commonly used Latin characters in ascii format. Due to the convergence of the use of different languages, and character systems, the popularity in social apps, people have started to think about using emoji as names for their domains or subdomains. 

The compatibility of the dapps with Punycode could be a facilitator of mass user adoption. For example: 🧑‍💼 .xck.app is represented as xn-- -zc3sr5i.xck.app

#### 4.4 Extending the use the private public keys for both Stacks and Bitcoin blockchains
In order to have higher level of adoption, increases the desire to have communications, and interoperability between users cross blockchains ecosystems like Stacks, and Bitcoin. One example, is Nostr, that uses the public key as unique identifier, that is linked to the DNS.

### 5.	The App Profile
Each App (web application) should have a verified identity in order to safely reference it and be trustworthy of interaction between other applications. An app can be identified both by the Internet domain (DNS) for example 'XCK.app' and the Stacks DID 'XCK.app' In case, it is a web application, it could be accessed as https://xck.app having both definitions.  In this case, we using the trust of the Internet domains to match the Decentralized Domains (DID).

The description for an App Profile document should be done using a JSON web token based on the WebApplication Schema object (https://schema.org/WebApplication). Additionally, this App Profile document must include the did-method-web. The example is represented as 'did:web:xck.app'. The target system of the Web DID method is the web host that the domain name described by the DID resolves to when queried through the Domain Name System (DNS). This did-method-web must be included in this app profile.

It could be useful to have a way to retrieve a verifiable DID profile for the App as recommended by the W3C using an URI. For example, a web URI https://xck.app?.well-know/profile In this case, the application should also return a JSON web token using the protocol previously mentioned.

#### 5.1 The App did:web DID document
Creating a DID is done by: applying at a domain name registrar for use of a domain name and storing the location of a hosting service, the IP address at a DNS lookup service creating the DID document JSON-LD file including a suitable keypair, e.g., using the Koblitz Curve, and storing the did.json file under the well-known URL to represent the entire domain.

For example, for the domain name 'xck.app', the 'did.json' should be available under the following URL: 'did:web:xck.app' -> https://xck.app/.well-known/did.json

Example of the 'did.json' file for 'XCK.app'
```
{
    "@context": "https://www.w3.org/ns/did/v1",
    "did:web": "xck.app",
    "verificationMethod": [
    {
    "id": "did:web:xck.app#OAuth",
    "type": "Secp256k1",
    "controller": "did:web:xck.app:oauth",
    "stacksAddress": "SP3YK7KWMYRCDMV5M4792T0T7DERQXHJJGGEPV1N8"
}
],
    "authentication": [
    "did:web:support.xck.app#OpenID",
    "type": "Secp256k1",
    "controller": "did:web:xck.app:oid",
    "stacksAddress": "SP3YK7KWMYRCDMV5M4792T0T7DERQXHJJGGEPV1N8"
]
}
```

#### 5.2 The User's Profile document
Expanding the Internet Domain Names to the users of Decentralized Identifiers (DID)
For the users of each App (web application), the App could provide a verified user identity in order to safely reference across other applications. In this context, the DIDs are URIs that associate a DID subject as a user of the application with a DID document allowing trustable interactions associated with that subject.

The BNS Bitcoin Name System has the possibility to create subdomain names under a defined decentralized domain name. A user can inscribe a subdomain name, having the attribute of a DID. For example, the user 'support', using the domain name ‘xck.app’ is 'support.xck.app'
In the example used here, the user is identified by this subdomain name, and it could be useful to retrieve a verifiable DID profile for the App User as recommended by the W3C using an URI. For example, a web URI https://support.xck.app/.well-known/profile

The BNS implement a way to store the description for a User Profile document using the Person Schema object (https://schema.org/Person).  The BNS has the possibility to associate a zone file to each Stacks address. In the zone file there is a reference to the location of a profile.json file, where the user profile is saved, with a hash in a JSON web token format.  The web token assures that only the user can sign the profile in the blockchain.  If the profile is altered by somebody else of the owner, the profile file would not match the JSON web token.

Also, this document must include the did-method-web for the app user. For the user support.xck.app as an example, it is represented as 'did:web:support.xck.app'. The target system of the Web DID method is the described web host resolved by the Domain Name System (DNS) when queried. This did-method-web is included in this app user profile.

In this case, the application should also return a JSON web token using the Person Schema object.

Example of the Person JSON web token included in the profile for support.XCK.app
```
{
    "header": {
    "typ": "JWT",
    "alg": "ES256K"
},
    "payload": {
    "jti": "a7ad5f4f-0f6b-4674-903c-e0c9acd542af",
    "iat": "2023-06-16T22:59:11.416Z",
    "exp": "2024-06-16T22:59:11.416Z",
    "subject": {
    "publicKey": "031f6416b88fc084c12edc8aa052d9408513793a832a9546d768cb90ba6e6875d5"
},
    "issuer": {
    "publicKey": "031f6416b88fc084c12edc8aa052d9408513793a832a9546d768cb90ba6e6875d5"
},
    "claim": {
    "@type": "Person",
    "@context": "https://schema.org",
    "apps": {
    "https://xck.app": "https://gaia.blockstack.org/hub/1EqMMnscqw4BExURkxjamnyW47aqQSKmwV/",
    "https://explorer.stacks.co": "https://gaia.blockstack.org/hub/13gRiYdPQnDyhSjmuAoKpsYHRCxapP5opi/",
….
},
    "appsMeta": {
    "https://xck.app": {
    "storage": "https://gaia.blockstack.org/hub/1EqMMnscqw4BExURkxjamnyW47aqQSKmwV/",
    "publicKey": "0250eff373ca36b72aa4fdb6a7fc201829b2a7c5ccf7b7196e5b6b6b734facbe84"
},
    "https://explorer.stacks.co": {
    "storage": "https://gaia.blockstack.org/hub/13gRiYdPQnDyhSjmuAoKpsYHRCxapP5opi/",
    "publicKey": "0269903a668f1a3fd3f17528b3fb70c75cff910bbe456f3811ade975dba473f71a"
},
…,
},
    "name": "Support CrossCheck",
    "description": "The CrossCheck(c) Dapp requires sometimes a support service. This account represents the support service that it is given to CrossCheck users.",
    "sameAs": [
    "https://www.facebook.com/checkParadigma",
    "https://twitter.com/xck_app",
    "https://www.youtube.com/@crosscheckxck",
    "",
    "https://www.linkedin.com/company/52113400",
    "",
    "https://xck.app"
],
    "email": "crosscheck@paradigma.global",
    "telephone": "",
    "telephoneCountry": "",
    "telephonePrefix": "",
    "potentialAction": [
    "Public",
    "",
    "Public",
    "",
    ""
],
    "contactPoint": [
    "Active",
    "false",
    "true",
    "true",
    "true",
    "true",
    "true"
]
}
},
    "signature": "kMzVsEoLOLn3HpsJu2vyY2SHQ_zTQj4-anUihtvDd1G2mkaWcS4Jee57r4M60CU1JA-51J14E7qGj7FwLESELw"
}
```

In case, the did:web does not match the domain name, it could be used with an alternative url.  All Stacks decentralized ID (did:web) have access to the did.json file.

Example: did:web:my.xck.app/paradigma.id --> https://my.xck.app/paradigma.id

#### 5.3 The User did:web DID document
Creating a DID is done by: applying at a domain name registrar for use of a domain name and storing the location of a hosting service, the IP address at a DNS lookup service creating the DID document JSON-LD file including a suitable keypair, e.g., using the Koblitz Curve, and storing the did.json file under the well-known URL to represent the entire domain.

For example, for the domain name 'support.xck.app', the DID document should be available under the following URL: 'did:web:support.xck.app' -> https://support.xck.app/.well-known/did.json

Example of the 'did.json' file for 'support.XCK.app'
```
{
    "@context": "https://www.w3.org/ns/did/v1",
    "did:web": "support.xck.app",
    "verificationMethod": [
    {
    "id": "did:web:support.xck.app#OAuth",
    "type": "Secp256k1",
    "controller": "did:web:support.xck.app:oauth",
    "stacksAddress": "SP3VBHA63ZTZFWTBJWHV775WR3PBZ64B26AYX2CF"
}
],
    "authentication": [
    "did:web:support.xck.app#OpenID",
    "type": "Secp256k1",
    "controller": "did:web:support.xck.app:oid",
    "stacksAddress": "SP3VBHA63ZTZFWTBJWHV775WR3PBZ64B26AYX2CF"
]
}
```

This did.json references the blockchain account associated to the DID, and the method to be used to verify if a message hash has been signed by the user.

Also, did.json file specifies the method to be used for the authentication of the user into an application.

In case, the did:web does not match the domain name, it could be used with an alternative url.  All Stacks decentralized ID (did:web) have access to the did.json file.

Example: https://my.xck.app/paradigma.id/.well-known/did.json

```
{
    "@context": "https://www.w3.org/ns/did/v1",
    "did:web": "my.xck.app:paradigma.id",
    "verificationMethod": [
    {
    "id": "did:web:my.xck.app:paradigma.id#OAuth",
    "type": "Secp256k1",
    "controller": "did:web:my.xck.app:paradigma.id:oauth",
    "stacksAddress": "SP1X4571GM6232GPQ7MW44HGTNX5TH3PKJQR6H7K8"
}
],
    "authentication": [
    "did:web:my.xck.app:paradigma.id#OpenID"
    "type": "Secp256k1",
    "controller": "did:web:my.xck.app:paradigma.id:oid",
    "stacksAddress": "SP1X4571GM6232GPQ7MW44HGTNX5TH3PKJQR6H7K8"
]
}
```

#### 5.4 A user owned Application Single Sign On (SSO)
SSO authentication is the process of logging in to a network once and then being able to access all the other systems within the same network using the same credentials. A user can log in once and have access to all the systems associated with their account. SSO authentication is used for cloud-based applications, web applications, and mobile apps and so on.

Many services are provided through web applications and the number of applications is increasing rapidly. The same sign on login information is also used by many of these users.

For example, a single-click login is available with OpenID-enabled services like Google, and Facebook. Also, custom Single Sign-On (SSO) provides additional security to protect identity and authentication.

However, centralized authentication has major security vulnerabilities with a single point of failure. Many developments have been made in recent years to address these weaknesses in authentication, and the answer is clear. Security risks can be mitigated by using blockchain-based SSO authentication, which is more secure, cost-efficient, and reliable

The BNS infrastructure, including the Profile, did:web specification could be used to develop a Application Single Sign On (SSO).  The decentralized applications typically use the web Wallet for authentication.  But probably, there could be an additional level of authentication compatible with the traditional SSO to access the decentralized applications, but when these applications require to sign, and send Blockchain transactions, the web Wallet are used for that purpose.

The described methods above in 4.3 for verification, and authentication, could serve as single sign on a platform based on the Stacks and Bitcoin blockchain to access any application any place in the world.  The definition of this way of authentication is owned by the user, and enabled by cryptographic technology.  

This Sign On infrastructure does not require to access directly the different blockchain ecosystems, it is through the user published methods.  It is a initial step to massify the adoption of DID’s.

It will be important to define a standard protocol for each of the methods, the verification and authentication.  Probably, the OpenID4VC (Open ID for Verifiable Credentials) standard could be used as a base.   But the benefits of using an authentication based on Blockchain is much robust, secure, and private than the traditional methods of authentication.

#### 5.5 Exchange of user profile between Web, Apps and the SSO
Did:web users can register their ID in compatible applications, probably from different blockchain networks. These applications could retrieve directly the user’s validated profile data, avoiding the re-entry of information to the application. Having also the possibility the ownership of an identity using the verification and authentication methods.

A did:web could bring each individual, business or organization a verified identity web presence. Or, to share their contact details, kind a visiting card, but digital and verified.

The web presence inclusion option for every inhabitant of the world could be possible, using the did:web, and their owned SSO to any application.
Tapscott, describes a higher level of digital capital when applications can integrate to each other.

### 6.	Empowering the DID’s with Proof of the user's National Identity Document
In some specific use cases, probably, more in the formal space, some legal and business processes, its deliverables, and some cross border transfers, require that the participant users be identified by some valid legal national ID. DID profiles could be ideal to bound them a valid national identity document. 

Using a blockchain technological solution to bound a user's national identity document, for example, a national passport or national ID card, permitting a DID to be used by the user.  This is an authorizing and bound process to the DID, as a proof of identity. When users are interacting in a transfer or business agreement, this identity attribution could be shared between them. This utility of proof of identity could satisfy KYC (Know Your Customer) requirement of some country governments. In this case, regulation, executed in a decentralized way, controlled, and owned by each user.  

The proof identity should be an inscription of a DID bound to a National ID document, maintaining privacy, and security.  The user could share its proofs of identity with the corresponding peers, when necessary, with the correspondent National ID Inscription.  This type of inscription could be considered as Soulbound tokens (SBTs), a proposal for enabling non-transferrable cryptoassets that represent commitments, credentials and affiliations.

Another complementary Proof of Identity solution could be done by the reference of other users, that they know a certain user. Kind of a reputation ranking, like for example (https://trajan.app). At a certain, point one or more of the sponsoring users must have a more solid proof of identity issued by a valid legal national ID. These referrals can also be indicated in the user profile.

### 7. Data storage associated to a BNS name

Apps built with the Stacks blockchain can store off-chain data using a storage system called GAIA (by Stacks).
GAIA is a unique approach to decentralized storage that focuses primarily on user-ownership of data, rather than immutable on-chain storage. In this case the emphasis is on the user control.

While on-chain storage solutions like IPFS and Arweave are designed for immutable, censorship-resistant permanent storage, they cannot be deemed as providing user control of the data since the user cannot modify or remove the data once it has been deployed.

GAIA solves a different problem of allowing users to be in control of where their data is stored while connecting the access of that data to their on-chain Stacks identity.

Whereas public transactional metadata is best stored on the Stacks blockchain, user application data can often be stored more efficiently and privately in Gaia storage.

Storing data off the blockchain ensures that Stacks applications can provide users with high performance and high availability for data reads and writes without introducing central trust parties.

#### a) How GAIA works
When the user logs using its BNS name in to an application, the authentication process gives the application the URL of a Gaia hub, which performs writes on behalf of that user. The Gaia hub authenticates writes to a location by requiring a valid authentication token, generated by a private key authorized to write at that location.

Gaia's approach to decentralization focuses on user-control of data and storage. If a user can choose which Gaia hub and which backend provider to store data with, then that is all the decentralization required to enable user-controlled applications.

#### b) Alternative storage system

The Apps objectives could suggest to use alternative solution to store data associated to a BNS name.  The option of using distributed file system like IPFS, or Arweave, or messaging services like Mastodon, or Matrix, among other type storage services, will be an area of intensive growth in the next years as the decentralization process turns mainstream.  

#### c) Essentially, these technologies will try bring to market the capacities of the design of Distributed Databases.   

A proposal of extending Stacks component was proposed by us in this study (https://github.com/paradigma-cl/stackscomponents).

### 7.	Blockchain Inscription service
Immutability is an attribute that Blockchain technology offers to world society. A transaction, and/or the execution of a smart contract that cannot be altered.

This attribute of immutability could be transformed in an inscription service applied to different purposes. The first example of this type of service is the BNS, and the second NFT inscriptions for art or music work. Other examples taken from XCK.app are the business Agreements Inscriptions, payments, and business Deliverables Inscriptions. Ordinal inscription is another emerging inscription type stored directly on the Bitcoin blockchain.

Some of these inscriptions could be considered also as Soulbound tokens (SBTs), enabling non-transferrable cryptoassets, specially for business Agreements, and business Deliverables.

The Stacks blockchain smart contracts can leverage the usability of the Bitcoin ecosystem, could help manage the inscription process of Ordinals that has started recently. An inscription is not sufficient as a solution of being the first doing it. It should have management rules, that users abide to, in order to have real meaning, and value. The BNS can be used to acquire, manage, and distribute ordinal inscription, as other type of inscription assets, both in the Stacks or Bitcoin ecosystems.

Inscriptions could be leverage with the use of did:web for the users, and apps. An app inscription or an inscription executed by a user could be accessed publicly by a web service using the did:web protocol. So ideally, Blockchain Inscriptions could be turned into a standard _Stacks Improvement Proposals_ - SIP. This standard could boost usability among other applications that reference this blockchain inscriptions. TXT records could be used at the zone file to connect BNS domains with inscriptions at ordinals.

### 8.	DID Domain and subdomain name Exchange of ownership
A market of exchange of DID domain name is already operating. Since the BNS lets any domain name owner to transfer its property to another user, there has been interest specially among early adopters to save some “key” names for future users, also as the STX exchange value is still low. There have been some proposals to change the behaviour of the BNS to facilitate storing list of domain names for future exchange. An example of an application that tries to help manage and saving different DID domain names is BNSx.

In the case of DID subdomain names is different, as the list maintained under its DID domain name in the zone file. Each DID subdomain name owns its own zone file specification, profile file, and its valid hash. The owner of the DID domain name is the only one that can update the list of subdomains under its domain name. For the exchange of subdomain name between one user to another, the domain name owner must provide a service to transfer its ownership, and executes in behalf of the owner.
 
### 9.	Increasing the BNS or DID utility
Nowadays, the most common use for the blockchain, agreed by several country’s Central Banks, it is its capacity to make cross border assets transfer efficiently.

Lately, the exchange of pieces of digital art using non fungible tokens, and similarly Ordinals in the Bitcoin network, have attracted the attention generating high level of transaction traffic.

Nevertheless, the use of decentralized ID (DIDs) has not been understood well, and used as it should be.

1.	The use of domain or subdomain names can facilitate the easiness to make inter user token transfer.
Instead of using the Stacks or Bitcoin addresses, the users can use the DID as the address to execute transactions.
2.	The use of domain or subdomain names can facilitate the easiness to make inter used non fungible token exchange or transfer. Instead of using the Stacks or Bitcoin addresses, the users can use the DID as the address to execute transactions.
3.	Users can use their DID to login into hundreds of available compatible Dapps, like for example in chat boxes, sharing of information, publications, etc. As a Single Sign On method, easier to use.
4.	Users can use their DIDs to login, create and share business process agreements, and deliverables, sign them, and inscribe them in the blockchain using the smart contracts.
5.	Probably, some business process agreements and deliverables, require that the participant users be identified by legal national IDs. Then a national attribution identity technology can be used by each one of the users, authorizing and linking it to the DID, as a proof of identity. This utility of proof of identity conforms to the requirement of KYC (Know Your Customer) imposed by some country governments. In this case, regulation, executed in a decentralized way, controlled by each user.
6.	Users could own a Single Sign On (SSO) technology to access any application.
7.	Users can use their did:web definitions as a web presentation landing page presenting their profile information.  Individual web presence.
8.	Web marketplaces that recognize the use of did:web specification could facilitate the capture of user domain or subdomain names. These users will not require to re-enter profile information, as the did:web specification can be accessed through a .json file and entered to the application.  This functionality increases the level of digital capital of the person or the organization.

### References

[1] Kenneth Arrow wrote in 1971  p. 22

[2] Bowles, Samuel; Gintis, Herbert. A Cooperative Species (p. 200). Princeton University Press. Kindle Edition.

[3] Bahá'u'lláh,

[4] Frankl, Victor

[5] 'Abdu'l-Bahá  Wings..

[6] Hashing (https://computersciencewiki.org/index.php/Hashing)

[7] Nakamoto, Satoshi (https://bitcoin.org/bitcoin.pdf)

[8] (https://identitymanagementinstitute.org/evolution-of-digital-identification/)

[9] (https://joinclicki.com/blog-full/understanding-dns-and-domain-key-to-digital-identity-and-trust)

[10] (https://link.springer.com/article/10.1007/s44206-023-00049-z)

[11] (https://en.wikipedia.org/wiki/Domain_Name_System)

[12] (https://en.wikipedia.org/wiki/Zone_file)

[13] (https://datatracker.ietf.org/doc/html/rfc1035)

[14] (https://www.icann.org/resources/pages/welcome-2012-02-25-en)

[15] (https://www.icann.org/resources/pages/zfa-2013-06-28-en)

[16] https://cloud.google.com/dns/docs/routing-policies-overview

[17] https://www.ioriver.io/terms/dns-zone

[18] https://www.lectron.net/docs/dns/dns-configuration-and-management/managing-dns-zones/

[19] (https://en.wikipedia.org/wiki/Public_key_infrastructure)

[20] (https://www.ittc.ku.edu/~fli/papers/2020_globecom_Secure_Cryptography_Infrastructures.pdf)

[21] (https://www.isaca.org/resources/news-and-trends/industry-news/2020/why-cryptographic-infrastructures-require-high-availability)

[22] (https://www.usenix.org/system/files/conference/atc16/atc16_paper-ali.pdf)

[23] (https://stacks.co)

[24] Clarity

[25] BNS Smartcontract blockchain deployment (https://explorer.hiro.so/txid/SP000000000000000000002Q6VF78.bns?chain=mainnet)

[26] BNS

[27] (https://docs.stacks.co/concepts/gaia)

[28] OSI Stack (https://en.wikipedia.org/wiki/OSI_model)

[29] The original Atlas Network that later was merged wiht Stacks Core (https://github.com/stacks-archive/atlas?tab=readme-ov-file)
